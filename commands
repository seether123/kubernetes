sed -i 's/<username>[a-zA-Z0-9]\+<\/username>/<username>tech123<\/username>/g' file.xml
sed -i 's|<username>[a-zA-Z0-9]\+|<username>tech123|g' file.xml

          - bash: |
              echo -n "$MyUsername" > username.txt
              echo -n "$MyPassword" > password.txt
              MyUsernameValue=$(cat username.txt)
              MyPasswordValue=$(cat password.txt)
            env:
              MyUsername: $(MyUsername)
              MyPassword: $(MyPassword)
# azure-pipelines.yml

trigger:
  - master

stages:
  - stage: Build
    jobs:
      - job: DecryptSecret
        pool:
          vmImage: ubuntu-latest
        steps:
          - task: Bash@3
            inputs:
              targetType: 'inline'
              script: |
                # Decrypt the MyPassword variable
                decryptedPassword=$(echo "$(MyPassword)" | base64 --decode)
                
                # Set the decrypted value as an environment variable
                echo "##vso[task.setvariable variable=DECRYPTED_PASSWORD]$decryptedPassword"
            displayName: 'Decrypt Password'

      - job: UseSecret
      
encrypted_value=<encrypted value>
echo "$encrypted_value" | openssl enc -aes-256-cbc -a -d -salt -pass pass:mysecretpassword

echo -n "cicduser" | openssl enc -aes-256-cbc -a -salt -pass pass:mysecretpassword

        steps:
          - script: |
              echo "The decrypted password is $DECRYPTED_PASSWORD"
            displayName: 'Print Decrypted Password'
            
            encrypted_cicduser=$(echo -n "cicduser" | openssl enc -aes-256-cbc -a -salt -pass pass:mysecretpassword)
            decrypted_cicduser=$(echo "$encrypted_cicduser" | openssl enc -aes-256-cbc -a -d -salt -pass pass:mysecretpassword)
            sed -i "s/<username>abcd/<username>$decrypted_cicduser/g" pom.xml

